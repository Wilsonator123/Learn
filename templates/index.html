{{define "index"}}
<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>HTMX Modern List</title>
  <script src="https://unpkg.com/htmx.org@1.9.6"></script>
  <link rel="stylesheet" href="static/css/index.css">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap">
</head>

<body>
  <div class="container">
    <div class="card">
      <div class="card-header">
        <h1 class="card-title">Tasks</h1>
        <p class="card-description">Manage your daily tasks and activities</p>
      </div>

      <!-- Add Item Form -->
      <form class="add-form" hx-post="/items/add" hx-target="#items-list" hx-swap="beforeend">
        <div class="input-wrapper">
          <input type="text" name="text" placeholder="Add a new task..." required>
          <button type="submit">
            Add
          </button>
        </div>
      </form>

      <!-- Items List -->
      <div class="columns">
        <div class="column">
          <h2>No Priority</h2>
          {{ range $index, $item := .Data.NoPriority }}
          <p>{{$item.Title}}</p>
          {{end}}
        </div>
        <div class="column">
          <h2>Priority 1</h2>
          {{ range $index, $item := .Data.Other }}
          <p>{{$item.Title}}</p>
          {{end}}
        </div>
        <div class="column">
          <h2>Priority 2</h2>
          {{ range $index, $item := .Data.NoPriority }}
          {{ template "item" $item }}
          {{end}}
        </div>
        <div class="column">
          Priority 3
        </div>
      </div>
      {{/* <div class="items-container">
        <div class="list-header">
          <h2 class="list-title">Your tasks</h2>
        </div>
        {{ if .Error }}
        <p>No tasks found</p>
        {{else}}
        {{ range $index, $item := .Data }}
        <ul id="items-list" class="items-list">
          <!-- Example items - these would be replaced by server-rendered content -->
          <li class="item" id="item-1">
            <div class="item-content">
              <span>{{ $item.Title }}</span>
              <p>{{ $item.Description }}</p>
            </div>
            <button class="delete-btn" hx-delete="/items/delete/1" hx-target="#item-1" hx-swap="outerHTML"
              aria-label="Delete item">
              Delete
            </button>
          </li>
        </ul> }}
        {{end}}
        {{end}}
      </div> */}}
    </div>
  </div>
</body>

</html>
{{end}}